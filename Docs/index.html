<!DOCTYPE html>
<html>
<head>
<title>index</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* This file is deliberately empty */
</style>
<link rel="stylesheet" type="text/css" href="included/markdown-github.css">
<link rel="stylesheet" type="text/css" href="included/highlight/styles/github.css">

<script src="included/highlight/highlight.pack.js"></script>
<script src="included/extra.js"></script>
</head>
<body>
<p><img src="../Slides/images/logo.png" alt="Logo"></p>
<h1 id="frameworks-for-hybrid-apps">Frameworks for Hybrid Apps</h1>
<h5 id="table-of-contents">Table of Contents</h5>
<ol>
<li><a href="#mobile">Mobile apps</a>  </li>
<li><a href="#knockout">Knockout based App with Bootstrap</a>  </li>
<li><a href="#jQM">jQuery Mobile based App</a>  </li>
<li><a href="#kendoUI">Kendo UI Mobile based App</a>  </li>
</ol>
<p><a name="mobile"></a></p>
<h2 id="1-mobile-apps">1. Mobile apps</h2>
<p> Usually a mobile app belongs to one of these tree groups:</p>
<ol>
<li>Native apps</li>
<li>Mobile optimized Websites</li>
<li>Hybrid apps</li>
</ol>
<p><strong>Native apps</strong> are built for a specific platform with the official platform SDK. Its important to know the specific development languages: Objective-C for iOS, Java for Android and C# for Windows Phone. The are published and sold via the official app store. Usually App stores are the most profitable distribution channel for publishers. On the one hand a closed app system guarantees revenue, but on the other hand it&#39;s hard to target different operation systems since specialized developers are required. Due to that fact, for most apps only the two big players (iOS and Android) are targeted.</p>
<p><strong>Mobile optimized websites</strong> are just normal server-side apps, built with any server-side technology that renders HTML. The biggest challenges are the styling (it must feel &quot;native&quot; and must fit the the device form factor) and the fact, that a mobile device can be go offline or struggle with a limited connectivity. On the one hand its hard to monetize such an app, but on the other hand its easier to target various platform with the same team of developers, that can be specialized to any server-side programming language and framework.</p>
<p><strong>Hybrid apps</strong> try to close the gap between both worlds. They are written with web technologies (HTML, CSS &amp; JavaScript) and do not require specialized knowledge about the targeted platform and its tools. Hybrid apps are shipped with a native executable that provides a browser engine for the web stack as well as an abstraction layer that allows access of native libraries. This abstraction layer is presented as an JavaScript API. The browser engine (and the general performance JavaScript) as well as the amount of abstraction make hybrid apps slower in comparison to native apps. Having that in mind, hybrid platforms offer a suitable way to build apps with open standards that can be published to the app stores!</p>
<p>The most common framework for hybrid apps is <a href="http://en.wikipedia.org/wiki/Apache_Cordova">Apache Cordova</a>. The framework was originally called <a href="http://phonegap.com/">PhonGap</a> until Adobe made it open source. Now PhoneGap is the name of the most common open source distribution of Cordova with an own app directory. However, as an windows user it is difficulty to create an iOS app. PhoneGap requires you to own a Mac, since tools required for building iOS applications run only on the OS X operating system. To avoid all platform specific struggles, Johannes will show all examples in <a href="http://www.icenium.com/">Icenium Mist</a>. This cloud-based IDE from Telerik a new rising star in the hybrid app world.</p>
<p><a name="knockout"></a></p>
<h2 id="2-knockout-based-app-with-bootstrap">2. Knockout based App with Bootstrap</h2>
<p>We have already revisited the <a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/#detailmvvm">MVVM framework</a> Knockout in the <a href="https://github.com/JohannesHoppe/DeveloperMediaDemo/blob/master/Documentation/01.%20Knockout%20Webinar.md">first</a> and <a href="https://github.com/JohannesHoppe/DeveloperMediaDemo/blob/master/Documentation/02.%20Knockout%20Webinar.md">second webinar</a>. Lets continue with the already well-known &quot;sticky notes&quot; example. The demo <strong>&quot;CordovaBootstrapKnockoutDemo&quot;</strong> utilizes jQuery for data retrieval and iterates through the retrieved data with the help of <a href="http://knockoutjs.com/">Knockout</a>. A plain white HTML5 application has not attractive appearance. The front-end framework <a href="http://getbootstrap.com/">Bootstrap</a> is a great way to change this. It ships with a set of CSS classes (like <code>container</code>, <code>glyphicon</code>, <code>alert</code>, <code>list-group</code> or <code>badge</code>)  that can be used to style our hybrid application. Themes, like the <a href="http://bootswatch.com/slate/">Bootswatch Slate theme</a>, create a native app appearance. Here is an example where both the Bootstrap CSS classes as well as the Knockout <strong>HTML 5 data-attributes</strong> (<code>data-bind</code> with <code>click</code>, <code>foreach</code> or <code>text</code>) are used to show a list of notes:</p>
<pre><code class="lang-html">&lt;div id=&quot;index_template&quot; class=&quot;container&quot;&gt;
    &lt;i class=&quot;glyphicon glyphicon-home&quot; data-bind=&quot;click: $root.loadData&quot;&gt;&lt;/i&gt;
    &lt;h2&gt;Bootstrap-Ko&lt;/h2&gt;

    &lt;p class=&quot;alert alert-info&quot;&gt;
        The following list was rendered with &lt;b&gt;jQuery&lt;/b&gt; &amp;amp; &lt;b&gt;Knockout&lt;/b&gt;
        and styled via the Slate &lt;b&gt;Bootstrap&lt;/b&gt; theme.
    &lt;/p&gt; 

    &lt;div class=&quot;list-group&quot; data-bind=&quot;foreach: notes&quot;&gt;
        &lt;a class=&quot;list-group-item&quot; data-bind=&quot;click: $root.showDetails&quot;&gt;
            &lt;span class=&quot;badge&quot; data-bind=&quot;text: moment(Added()).format(&#39;DD.MM.YYYY&#39;)&quot;&gt;&lt;/span&gt;
            &lt;!--ko text: Title--&gt;&lt;!--/ko--&gt;
        &lt;/a&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>Which renders to this screen in Apache Cordova / Icenium:<br><img src="images/cordova_bootstrap_knockout.png" alt="Screenshot"></p>
<p>Bootstrap comes with a lot of interesting CSS tricks. For example a special font (&quot;<a href="http://glyphicons.com/">glyphicons</a>&quot;) is used to create scalable icons. That font contains icons instead of letters. A good font looks sharp on all devices, so that higher pixel ratios of &quot;retina displays&quot; do not have any negative impact. This technique is called <strong><a href="http://weloveiconfonts.com/">icon fonts</a></strong>, too.</p>
<p><a name="jQM"></a></p>
<h2 id="3-jquery-mobile-based-app">3. jQuery Mobile based App</h2>
<p>As we have seen, Bootstrap has &quot;mobile first&quot; responsive grid and a appealing flat graphical style. But it is still designed to work on mobile engines as well as in normal browsers. The demo <strong>&quot;CordovajQueryMobileDemo&quot;</strong> utilizes jQuery for data retrieval and renders its content with jQuery Mobile. JQuery mobile (often abbreviated as <strong>jQM</strong>) goes on step further and concentrates on mobile scenarios only. As the name suggests, it is a framework on top of jQuery. While Bootstrap does its (black) magic with CSS tricks, jQuery mobile is overcoming HTML5 limitations with JavaScript. For example a button is transformed from this:</p>
<pre><code class="lang-html">&lt;button type=&quot;submit&quot;&gt;Go&lt;/button&gt;</code></pre>
<p>to this:</p>
<pre><code class="lang-html">&lt;div class=&quot;ui-btn ui-btn-inline ui-btn-corner-all ui-shadow ui-btn-up-c&quot;&gt;
  &lt;span class=&quot;ui-btn-inner ui-btn-corner-all&quot;&gt;
    &lt;span class=&quot;ui-btn-text&quot;&gt;Go&lt;/span&gt;
  &lt;/span&gt;
  &lt;input class=&quot;ui-btn-hidden&quot; type=&quot;button&quot; value=&quot;Go&quot; /&gt;
&lt;/div&gt;</code></pre>
<p>On the one hand all these enhancement hide a lot of problems to the developer, on the other hand it is a bit trickier to enrich jQM apps with a MVVM framework, as <a href="http://www.scottlogic.com/blog/2013/04/08/comparing-kendoui-and-knockout-with-a-bit-of-jquerymobile-on-the-side.html#dom">explained here</a>. Due to that reason, it is wise to concentrate on jQuery core and jQuery plugins only.</p>
<p>jQM is touch-optimized, themable and ships with a larger collection of <a href="http://api.jquerymobile.com/category/widgets/">widgets</a>. In contrast to the &quot;normal&quot; jQuery way, jQuery mobile is not concentrating on particular DOM elements. It is seeing the page as a whole and enhances all found elements. jQuery Mobile automatically applies many markup enhancements as soon as it loads. These enhancements are applied based on jQuery Mobile&#39;s default settings, which are designed to work with common scenarios. Too hook into this process, <a href="http://api.jquerymobile.com/global-config/">read more in the documentation about the <code>mobileinit</code> event</a>. This transformation can be steered by <strong>HTML5 data attributes</strong> (eg. <code>data-role</code>). The following snipped will render a page with three areas (a header, a content and a footer area).</p>
<pre><code class="lang-html">&lt;div data-role=&quot;page&quot;&gt;
    &lt;div data-role=&quot;header&quot;&gt;
        &lt;h1&gt;Title&lt;/h1&gt;
    &lt;/div&gt;
        &lt;div data-role=&quot;content&quot;&gt;
            &lt;p&gt;Page content.&lt;/p&gt;
        &lt;/div&gt;

    &lt;div data-role=&quot;footer&quot;&gt;
        Page Footer
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>This is the rendered result in Apache Cordova / Icenium:<br><img src="images/cordova_jQueryMobile.png" alt="Screenshot"></p>
<p>We don&#39;t have to care about page transitions. By default, all local links get a click listener automatically. jQuery Mobile will automatically handle page requests in a single-page model, using Ajax when possible. As shown in the next example, if a link in a multi-page document points to an anchor (#page-details), the framework will look for a page wrapper with that id (id=&quot;page-details&quot;). If it finds a page in the HTML document, it will bring the new page into view. </p>
<p>Loading of content is straightforward. We can use JQuery core as usual, so that this snipped is the only self-written JavaScript required to show the start screen:</p>
<pre><code class="lang-html">&lt;div id=&quot;page-home&quot; data-role=&quot;page&quot; &gt;

    &lt;div data-role=&quot;header&quot; data-position=&quot;fixed&quot;&gt;
        &lt;h1&gt;Home&lt;/h1&gt;
    &lt;/div&gt;

    &lt;div data-role=&quot;content&quot;&gt;
        &lt;h1&gt;jQuery Mobile&lt;/h1&gt;
        &lt;p&gt;
            The following list was rendered with &lt;b&gt;jQM&lt;/b&gt;, a framework on top of &lt;b&gt;jQuery&lt;/b&gt;.
        &lt;/p&gt;
    &lt;/div&gt;
    &lt;div class=&quot;nav&quot;&gt;
        &lt;ul id=&quot;home-listview&quot; data-role=&quot;listview&quot;&gt;&lt;/ul&gt;   &lt;!-- HERE  --&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<pre><code class="lang-js">(function ($) {

    $(&quot;#page-home&quot;).on(&#39;pagebeforeshow&#39;, function () {

        $.ajax({
            url: &#39;http://johanneshoppe.github.io/DeveloperMediaSlides/examples/webinarp.json&#39;,
            dataType: &#39;jsonp&#39;,
            jsonpCallback: &#39;callback&#39;
        }).done(function (result) {
            $(&#39;#home-listview&#39;)
                .empty()
                .append(createListItems(result))
                .listview(&#39;refresh&#39;);
        });
    });

    var createListItems = function(data) {

        var items = [];
        $.each(data, function(index, item) {

            var listItemWithLink = $(&#39;&lt;li /&gt;&#39;).append(
                $(&#39;&lt;a /&gt;&#39;)
                    .attr(&#39;href&#39;, &#39;#page-details&#39;)
                    .data(&#39;transition&#39;, &#39;slide&#39;)
                    .text(item.Title));

            items.push(listItemWithLink);
        });
        return items;
    };

})(window.jQuery);</code></pre>
<p>As you see, we are inserting some <code>&lt;li&gt;&lt;a href=&quot;&quot; /&gt;&lt;/li&gt;</code> elements directly into the document. It is important to know, that the <a href="http://api.jquerymobile.com/listview/">Listview Widget</a> requires a call at the <strong>refresh</strong> method to update the visual styling.</p>
<p>Here is the final result:</p>
<p><img src="images/cordova_jQueryMobile2.png" alt="Screenshot"></p>
<p><a name="kendoUI"></a></p>
<h2 id="4-kendo-ui-mobile-based-app">4. Kendo UI Mobile based App</h2>
<p>In my opinion there is a golden mean between a pure CSS-based framework (like Bootstrap) combined with a MVVM framework (like Knockout) and jQuery mobile. This framework is called Kendo UI mobile. Kendo UI Mobile was definitely inspired by both Knockout AND jQuery mobile. It uses well-known HTML5 data attributes, like <code>data-bind=&quot;text: Text&quot;</code> for MVVM <strong>data-binding</strong> as in Knockout and <code>data-role=&quot;listview&quot;</code> for the creation of a <strong>widget</strong> as in jQM. Please take a look at the <strong>&quot;CordovaKendoUiMobileDemo&quot;</strong> sample app. </p>
<p>But in contrast to jQM, with Kendo when you create a button:</p>
<pre><code class="lang-html">&lt;a data-role=&quot;button&quot;&gt;Go&lt;/a&gt;</code></pre>
<p>the enhanced HTML will be only changed to this:</p>
<pre><code class="lang-html">&lt;a data-role=&quot;button&quot; class=&quot;km-button&quot;&gt;
    &lt;span class=&quot;km-text&quot;&gt;Go&lt;/span&gt;
&lt;/a&gt;</code></pre>
<p>(...which is great!)</p>
<p>Unlike the jQuery mobile, the mobile version of Kendo UI is doing some hidden task under the hood.<br>Initializing a <code>kendo.mobile.Application</code> does the following:</p>
<ol>
<li>Attaches event handlers for various events</li>
<li>Adds various CSS classes to page elements</li>
<li>Appends meta tags for the viewport configuration</li>
<li>Listens for browser history changes</li>
</ol>
<p>Similar to the Bootstrap glyphicons, Kendo UI Mobile includes integrated <a href="http://docs.kendoui.com/getting-started/mobile/icons">font icons</a>, too. They can be applied by specifying the <code>data-icon</code> attribute on some widgets. All other elements can use the CSS classes directly. (eg. <code>class=&quot;km-icon km-featured&quot;</code>)</p>
<p>The final source code looks like this and renders to the following screenshot.<br>Please notice that we can declare the required ViewModel directly in the source code. (<code>data-model=&quot;app.indexPageViewModel&quot;</code>)  </p>
<pre><code class="lang-html">&lt;div id=&quot;indexPage&quot; data-role=&quot;view&quot; data-title=&quot;Home&quot; data-model=&quot;app.indexPageViewModel&quot;&gt;

    &lt;div data-role=&quot;content&quot; class=&quot;view-content&quot;&gt;

        &lt;i class=&quot;km-icon km-home&quot;&gt;&lt;/i&gt;
        &lt;h1&gt;Kendo UI Mobile&lt;/h1&gt;
        &lt;p&gt;
            The following list was rendered with &lt;b&gt;Kendo UI Mobile&lt;/b&gt;,
            a MVVM framework on top of &lt;b&gt;jQuery&lt;/b&gt;.
        &lt;/p&gt;         

        &lt;ul data-role=&quot;listview&quot;
            data-template=&quot;notesTemplate&quot;
            data-style=&quot;inset&quot;
            data-bind=&quot;source: notes, events: { click: showDetails }&quot;&gt;
        &lt;/ul&gt;   

    &lt;/div&gt;
&lt;/div&gt;   

&lt;script id=&quot;notesTemplate&quot; type=&quot;text/x-kendo-template&quot;&gt;
    &lt;a&gt;#=Title#&lt;/a&gt;
&lt;/script&gt;</code></pre>
<pre><code class="lang-js">
(function (global) {
    var app = global.app = global.app || {};

    document.addEventListener(&quot;deviceready&quot;, function() {

        app.indexPageViewModel = new IndexPageViewModel();
        app.indexPageViewModel.loadData();
        app.application = new kendo.mobile.Application($(document.body), { layout: &quot;tabstrip-layout&quot; });

    }, false);

})(window);


var IndexPageViewModel = function () {

    var viewModel = kendo.observable({
        notes: [],

        loadData: function() {

            $.ajax({
                url: &#39;http://johanneshoppe.github.io/DeveloperMediaSlides/examples/webinarp.json&#39;,
                dataType: &#39;jsonp&#39;,
                jsonpCallback: &#39;callback&#39;
            }).done(function(result) {
                viewModel.set(&quot;notes&quot;, result);
            });
        },

        showDetails: function(e) {
            app.detailsPageViewModel.setData(e.dataItem);
            app.application.navigate(&#39;#detailsPage&#39;, &#39;slide:left&#39;);
        }
    });

    return viewModel;
}</code></pre>
<p><img src="images/cordova_KendoUiMobile.png" alt="Screenshot"></p>
<hr>

<p><em>&copy; 2014, Johannes Hoppe</em></p>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
